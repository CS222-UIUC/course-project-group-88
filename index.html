<!DOCTYPE html>
<html>
    <head>
       <style type=text/css>
       .leftdiv 
       {
        float: left;
       }
       .rightdiv 
       {
        float: right;
       }
       div{
        padding : 1%;
        color: white;
        background-color:rgb(241, 156, 36);
        width: 47.5%;
        border: solid black;
       }
        </style>
    </head>
    <h1> Class Finder</h1>
    <body>
        <div class="rightdiv"> 
            <h1> Your Class Options!</h1> 
            <script type="text/javascript">
                function Upload() {
                    var txtFile = new XMLHttpRequest();
                    txtFile.open("GET", "file://d:/samplecsv.csv", true);
                    var regex = /^([a-zA-Z0-9\s_\\.\-:])+(.csv|.txt)$/;
                    if (regex.test(fileUpload.value.toLowerCase())) {
                        if (typeof (FileReader) != "undefined") {
                            var reader = new FileReader();
                            reader.onload = function (e) {
                                var table = document.createElement("table");
                                var rows = e.target.result.split("\n");
                                for (var i = 0; i < rows.length; i++) {
                                    var cells = rows[i].split(",");
                                    if (cells.length > 1) {
                                        var row = table.insertRow(-1);
                                        for (var j = 0; j < cells.length; j++) {
                                            var cell = row.insertCell(-1);
                                            cell.innerHTML = cells[j];
                                        }
                                    }
                                }
                                var dvCSV = document.getElementById("dvCSV");
                                dvCSV.innerHTML = "";
                                dvCSV.appendChild(table);
                            }
                            reader.readAsText(fileUpload.files[0]);
                        } else {
                            alert("This browser does not support HTML5.");
                        }
                    } else {
                        alert("Please upload a valid CSV file.");
                    }
                }
            </script>
            <input type="button" id="upload" value="See Options" onclick="Upload()" />
            <hr />
            <div id="dvCSV">
            </div>
        </div>
        
    <div class="leftdiv"> 
        <table  BORDER=1 HEIGHT="40%" WIDTH="100%">
            <colgroup>
                <col span="6" style="background-color:rgb(241, 156, 36)">
              </colgroup>
            <thead>Please input when you are not available during each weekday in a comma seperated listed of the following format. 
                XX:XX{AM/PM} - XX:XX{AM/PM}. Press the submit button when you are done.               
                <br>Example: 09:00AM - 10:30AM,01:00PM - 01:50PM,etc
            </thead> 
            <tr>
                <th>Day of the week  </th>
                <th>Times Not Available</th>
            </tr> 
            <form> 
                <tr><th><label for="m">Monday</label></th>
                <th><input type="text" id="m" name="m" /> </th></tr>
                <tr><th><label for="t">Tuesday</label></th>
                <th><input type="text" id="t" name="t" /></th></tr>
                <tr><th><label for="w">Wednesday</label></th>
                <th><input type="text" id="w" name="w" /></th></tr>
                <tr><th><label for="r">Thursday</label></th>
                <th><input type="text" id="r" name="r" /></th></tr>
                <tr><th><label for="f">Friday</label></th>
                <th><input type="text" id="f" name="f" /></th></tr>
            </form> 
            </tr> 
        </table> 
        <thead>Once you have filled out the table above, type in the department abbreviation for the course options you would like to search. When you are done hit the search button!</thead> 
        <form> 
            <input type="text" id="searchbar" onkeyup="look_up()" name="q" placeholder="Search subject..">
            <button id="btn">Search</button>
        </form>
      
        <ol id='list'>
            <li class="courses">AAS</li>
            <li class="courses">ABE</li>
                <li class="courses">ACCY</li>
                <li class="courses">ACE</li>
                <li class="courses">ACES</li>
                <li class="courses">ADV</li>
                <li class="courses">AE</li>
                <li class="courses">AFAS</li>
                <li class="courses">AFRO</li>
                <li class="courses">AFST</li>
                <li class="courses">AGCM</li>
                <li class="courses">AGED</li>
                <li class="courses">AHS</li>
                <li class="courses">AIS</li>
                <li class="courses">ALEC</li>
                <li class="courses">ANSC</li>
                <li class="courses">ANTH</li>
                <li class="courses">ARAB</li>
                <li class="courses">ARCH</li>
                <li class="courses">ART</li>
                <li class="courses">ARTD</li>
                <li class="courses">ARTE</li>
                <li class="courses">ARTF</li>
                <li class="courses">ARTH</li>
                <li class="courses">ARTJ</li>
                <li class="courses">ARTS</li>
                <li class="courses">ASRM</li>
                <li class="courses">ASST</li>
                <li class="courses">ASTR</li>
                <li class="courses">ATMS</li>
                <li class="courses">BADM</li>
                <li class="courses">BASQ</li>
                <li class="courses">BCOG</li>
                <li class="courses">BCS</li>
                <li class="courses">BDI</li>
                <li class="courses">BIOC</li>
                <li class="courses">BIOE</li>
                <li class="courses">BIOP</li>
                <li class="courses">BSE</li>
                <li class="courses">BTW</li>
                <li class="courses">BUS</li>
                <li class="courses">CB</li>
                <li class="courses">CDB</li>
                <li class="courses">CEE</li>
                <li class="courses">CHBE</li>
                <li class="courses">CHEM</li>
                <li class="courses">CHIN</li>
                <li class="courses">CHLH</li>
                <li class="courses">CHP</li>
                <li class="courses">CI</li>
                <li class="courses">CIC</li>
                <li class="courses">CLCV</li>
                <li class="courses">CLE</li>
                <li class="courses">CMN</li>
                <li class="courses">CPSC</li>
                <li class="courses">CS</li>
                <li class="courses">CSE</li>
                <li class="courses">CW</li>
                <li class="courses">CWL</li>
                <li class="courses">CZCH</li>
                <li class="courses">DANC</li>
                <li class="courses">DTX</li>
                <li class="courses">EALC</li>
                <li class="courses">ECE</li>
                <li class="courses">ECON</li>
                <li class="courses">EDPR</li>
                <li class="courses">EDUC</li>
                <li class="courses">EIL</li>
                <li class="courses">ENG</li>
                <li class="courses">ENGL</li>
                <li class="courses">ENSU</li>
                <li class="courses">ENT</li>
                <li class="courses">ENVS</li>
                <li class="courses">EPOL</li>
                <li class="courses">EPS</li>
                <li class="courses">EPSY</li>
                <li class="courses">ERAM</li>
                <li class="courses">ESE</li>
                <li class="courses">ESL</li>
                <li class="courses">ETMA</li>
                <li class="courses">EURO</li>
                <li class="courses">FAA</li>
                <li class="courses">FIN</li>
                <li class="courses">FLTE</li>
                <li class="courses">FR</li>
                <li class="courses">FSHN</li>
                <li class="courses">GC</li>
                <li class="courses">GEOL</li>
                <li class="courses">GER</li>
                <li class="courses">GGIS</li>
                <li class="courses">GLBL</li>
                <li class="courses">GMC</li>
                <li class="courses">GRK</li>
                <li class="courses">GRKM</li>
                <li class="courses">GS</li>
                <li class="courses">GSD</li>
                <li class="courses">GWS</li>
                <li class="courses">HDFS</li>
                <li class="courses">HEBR</li>
                <li class="courses">HIST</li>
                <li class="courses">HNDI</li>
                <li class="courses">HORT</li>
                <li class="courses">HT</li>
                <li class="courses">HUM</li>
                <li class="courses">IB</li>
                <li class="courses">IE</li>
                <li class="courses">IHLT</li>
                <li class="courses">INFO</li>
                <li class="courses">IS</li>
                <li class="courses">ITAL</li>
                <li class="courses">JAPN</li>
                <li class="courses">JOUR</li>
                <li class="courses">JS</li>
                <li class="courses">KIN</li>
                <li class="courses">KOR</li>
                <li class="courses">LA</li>
                <li class="courses">LAS</li>
                <li class="courses">LAST</li>
                <li class="courses">LAT</li>
                <li class="courses">LAW</li>
                <li class="courses">LCTL</li>
                <li class="courses">LEAD</li>
                <li class="courses">LER</li>
                <li class="courses">LING</li>
                <li class="courses">LLS</li>
                <li class="courses">MACS</li>
                <li class="courses">MATH</li>
                <li class="courses">MBA</li>
                <li class="courses">MCB</li>
                <li class="courses">MDIA</li>
                <li class="courses">MDVL</li>
                <li class="courses">ME</li>
                <li class="courses">MICR</li>
                <li class="courses">MILS</li>
                <li class="courses">MIP</li>
                <li class="courses">MSE</li>
                <li class="courses">MUS</li>
                <li class="courses">MUSC</li>
                <li class="courses">MUSE</li>
                <li class="courses">NE</li>
                <li class="courses">NEUR</li>
                <li class="courses">NPRE</li>
                <li class="courses">NRES</li>
                <li class="courses">NS</li>
                <li class="courses">NUTR</li>
                <li class="courses">PATH</li>
                <li class="courses">PERS</li>
                <li class="courses">PHIL</li>
                <li class="courses">PHYS</li>
                <li class="courses">PLPA</li>
                <li class="courses">POL</li>
                <li class="courses">PORT</li>
                <li class="courses">PS</li>
                <li class="courses">PSM</li>
                <li class="courses">PSYC</li>
                <li class="courses">QUEC</li>
                <li class="courses">REES</li>
                <li class="courses">REHB</li>
                <li class="courses">REL</li>
                <li class="courses">RHET</li>
                <li class="courses">RMLG</li>
                <li class="courses">RST</li>
                <li class="courses">RUSS</li>
                <li class="courses">SAME</li>
                <li class="courses">SBC</li>
                <li class="courses">SCAN</li>
                <li class="courses">SE</li>
                <li class="courses">SHS</li>
                <li class="courses">SLAV</li>
                <li class="courses">SOC</li>
                <li class="courses">SOCW</li>
                <li class="courses">SPAN</li>
                <li class="courses">SPED</li>
                <li class="courses">STAT</li>
                <li class="courses">SWAH</li>
                <li class="courses">TAM</li>
                <li class="courses">TE</li>
                <li class="courses">THEA</li>
                <li class="courses">TMGT</li>
                <li class="courses">TRST</li>
                <li class="courses">TURK</li>
                <li class="courses">UKR</li>
                <li class="courses">UP</li>
                <li class="courses">VCM</li>
                <li class="courses">VM</li>
                <li class="courses">WGGP</li>
                <li class="courses">WLOF</li>
                <li class="courses">WRIT</li>
                <li class="courses">ZULU</li>
        </ol> 
        <script type="text/javascript">
            const searchBar = document.getElementById("searchBar");

        searchBar.addEventListener("keyup", e => {
            const searchString = e.target.value;
        });

        function look_up() {    
            let searchString = document.getElementById('searchbar').value 
            searchString = searchString.toLowerCase();
            let x = document.getElementsByClassName('courses');
            for (i = 0; i < x.length; i++) {
                if (!x[i].innerHTML.toLowerCase().includes(searchString)) {
                    x[i].style.display="none";
                } else {
                    x[i].style.display="list-item";
                }
            }
        }

        var monday = document.getElementById('m').value;
        var tuesday = document.getElementById('t').value;
        var wednesday = document.getElementById('w').value;
        var thursday = document.getElementById('r').value;
        var friday = document.getElementById('f').value;
        var dept = document.getElementById('searchbar').value;

        let btn = document.getElementById("btn");
        btn.addEventListener('click', event => {
            var user_input = {
                "Dept":dept,
                "M":monday.value, 
                "T":tuesday.value,
                "W":wednesday.value,
                "R":thursday.value, 
                "F":friday.value
            };
                
            alert("maybe some progress??");
        });
        </script>
    </div>
</body>
</html>
